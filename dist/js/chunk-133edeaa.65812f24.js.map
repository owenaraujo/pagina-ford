{"version":3,"sources":["webpack:///./src/components/ventas/Reportes.vue","webpack:///./src/components/ventas/Reportes.vue?f0d0","webpack:///./src/components/ventas/Reportes.vue?311b"],"names":["class","dark","type","style","fechaInicio","fechaFinal","getVentas","pdfCompleto","setup","fieldsInfo","key","label","reportesFields","sortable","fecha","reporte","infoVenta","reportesField","fields","filterFecha","filterNumber","cantidadReporte","this","reduce","sum","item","parseFloat","cantidad","rowClass","status","info","$refs","lista","reporteCompletoBs","lista2","reporteCompletoDolar","ventana","window","open","document","write","innerHTML","close","focus","setTimeout","print","createPdf","a","get","server","data","ventasBs","ventasDolar","ventas","map","is_dolar","push","getTotal","render","__scopeId"],"mappings":"+OAIaA,MAAM,O,GACJA,MAAM,6B,EA8BX,eAKM,OALDA,MAAM,8BAA4B,CACrC,eAAwB,OAAnBA,MAAM,SACX,eAEM,OAFDA,MAAM,QAAM,CACf,eAA2B,KAAxBA,MAAM,oB,KAOnB,eAAW,oB,uJA5Cb,eA+CM,YA9CJ,eAyCM,OAzCDA,MAAK,CAAC,gBAAe,mBAA8B,EAAAC,Q,CACtD,eAuCO,GAvCDD,MAAM,kBAAgB,C,WAC1B,iBA6BM,CA7BN,eA6BM,MA7BN,EA6BM,CA5BJ,eA2BM,MA3BN,EA2BM,C,eA1BJ,eAKE,SAJAE,KAAK,iBACLC,MAAA,+CACAH,MAAM,O,qDACG,EAAAI,YAAW,K,mBAAX,EAAAA,e,eAEX,eAKE,S,qDAJS,EAAAC,WAAU,IACnBH,KAAK,WACLC,MAAA,+CACAH,MAAM,Q,mBAHG,EAAAK,cAKX,eAMM,OALJF,MAAA,cACAH,MAAM,qDACL,QAAK,8BAAE,EAAAM,WAAA,EAAAA,UAAA,sBACT,YAGD,eAMM,OALJH,MAAA,cACAH,MAAM,8CACL,QAAK,+BAAE,EAAAO,iBACT,kBAKL,eAOQ,Q,WANN,iBAKM,CALN,M,oBAUN,EAEA,eAAO,Q,2EAWI,G,UAAA,CACbC,MADa,WAEX,IAAMC,EAAa,eAAI,CACrB,CAAEC,IAAK,qBAAsBC,MAAO,YACpC,WACA,CAAED,IAAK,SAAUC,MAAO,UACxB,CAAED,IAAK,QAASC,MAAO,WAGrBC,EAAiB,eAAI,CACvB,CAAEF,IAAK,SAAUC,MAAO,KACxB,CAAED,IAAK,SAAUC,MAAO,SAAUE,UAAU,GAC5C,WACA,CAAEH,IAAK,UAAWC,MAAO,UAAWE,UAAU,GAC9C,SACA,cAGIT,EAAc,iBACdC,EAAa,iBACbS,EAAQ,iBACRC,EAAU,iBACVC,EAAY,iBACZC,EAAgB,eAAI,CACxBC,OAAQ,CACN,CAAER,IAAK,YAAaC,MAAO,WAAYE,UAAU,GACjD,cAIJ,SAASM,KAOT,SAASC,KAKT,SAASC,IACP,OAAOC,KAAKP,QAAQQ,QAClB,SAACC,EAAKC,GAAN,OAAeD,EAAME,WAAWD,EAAKE,YACrC,GAIJ,SAASC,EAASH,EAAMvB,GACtB,GAAKuB,GAAiB,QAATvB,EACb,MAAoB,YAAhBuB,EAAKI,OAA6B,qBAAtC,EAGF,SAAStB,IACP,IAAMuB,EAAOR,KAAKS,MAAMD,KAClBE,EAAQV,KAAKS,MAAME,kBACnBC,EAASZ,KAAKS,MAAMI,qBACtBC,EAAUC,OAAOC,KAAK,GAAI,QAAS,wBACvCF,EAAQG,SAASC,MACf,0DAEFJ,EAAQG,SAASC,MAAMV,EAAKW,WAC5BL,EAAQG,SAASC,MAAMR,EAAMS,WAC7BL,EAAQG,SAASC,MAAMN,EAAOO,WAC9BL,EAAQG,SAASG,QACjBN,EAAQO,QACRC,YAAW,WACTR,EAAQS,UACP,KAEL,SAASC,IACP,IAAMd,EAAQV,KAAKS,MAAMC,MACnBF,EAAOR,KAAKS,MAAMD,KAEpBM,EAAUC,OAAOC,KAAK,GAAI,QAAS,wBAEvCF,EAAQG,SAASC,MAAMV,EAAKW,WAC5BL,EAAQG,SAASC,MAAMR,EAAMS,WAC7BL,EAAQG,SAASC,MACf,4DAEFJ,EAAQG,SAASG,QACjBN,EAAQO,QACRC,YAAW,WACTR,EAAQS,UACP,KArFC,SAwFSvC,IAxFT,6FAwFN,gHAC0B,MAApBgB,KAAKlB,YADX,oDAEyB,MAAnBkB,KAAKjB,WAFX,iEAGyB,EAAA0C,EAAMC,IAAN,UAClB1B,KAAK2B,OADa,uBACQ3B,KAAKlB,YADb,YAC4BkB,KAAKjB,aAJ1D,gBAGU6C,EAHV,EAGUA,KAGR5B,KAAK6B,SAAW,GAChB7B,KAAK8B,YAAc,GACnB9B,KAAK+B,OAASH,EACdA,EAAKI,KAAI,SAAC7B,IACc,IAAlBA,EAAK8B,UACP,EAAKH,YAAYI,KAAK/B,IAEF,IAAlBA,EAAK8B,UACP,EAAKJ,SAASK,KAAK/B,MAGvBH,KAAKmC,WAjBP,iDAxFM,wBA2GN,MAAO,CACL7B,WACArB,cACAuC,YACAxC,YACAa,cACAC,eACAC,kBACAT,iBACAK,gBACAF,UACAN,aACAL,cACAC,aACAS,QACAE,gB,UChLN,EAAO0C,OAASA,EAChB,EAAOC,UAAY,kBAEJ,gB,kCCRf","file":"js/chunk-133edeaa.65812f24.js","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"card mt-2 p-2\" :class=\"{ 'dark-complement': dark }\">\r\n      <div0 class=\"row row-cols-2\">\r\n        <div class=\"col\">\r\n          <div class=\"d-flex align-items-center\">\r\n            <input\r\n              type=\"datetime-local\"\r\n              style=\"width: 35% ;height: 40px; font-size: 10px\"\r\n              class=\"mr-2\"\r\n              v-model=\"fechaInicio\"\r\n            />\r\n            <input\r\n              v-model=\"fechaFinal\"\r\n              type=\"datetime\"\r\n              style=\"width: 35%; height: 40px; font-size: 10px\"\r\n              class=\"mr-2\"\r\n            />\r\n            <div\r\n              style=\"width: 15%\"\r\n              class=\"btn material-icons c-hand color-primary text-white\"\r\n              @click=\"getVentas\"\r\n            >\r\n              search\r\n            </div>\r\n            <div\r\n              style=\"width: 15%\"\r\n              class=\"btn material-icons yellow-danger text-white\"\r\n              @click=\"pdfCompleto()\"\r\n            >\r\n              download\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <b-col>\r\n          <div class=\"d-flex align-items-center \">\r\n            <div class=\"w-50\"></div>\r\n            <div class=\"w-50\">\r\n              <p class=\"text-center\"></p>\r\n            </div>\r\n          </div>\r\n        </b-col>\r\n      </div0>\r\n    </div>\r\n\r\n    <div></div>\r\n\r\n    <Err />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport numeral from \"numeral\";\r\nimport axios from \"axios\";\r\n\r\nimport  { ref } from \"vue\";\r\n//  import Err from \"../components/403.vue\";\r\nimport moment from \"moment\";\r\nexport default {\r\n  setup() {\r\n    const fieldsInfo = ref([\r\n      { key: \"id_producto.nombre\", label: \"producto\" },\r\n      \"cantidad\",\r\n      { key: \"precio\", label: \"precio\" },\r\n      { key: \"total\", label: \"total\" },\r\n    ]);\r\n\r\n    let reportesFields = ref([\r\n      { key: \"numero\", label: \"#\" },\r\n      { key: \"nombre\", label: \"Nombre\", sortable: true },\r\n      \"cantidad\",\r\n      { key: \"entrada\", label: \"entrada\", sortable: true },\r\n      \"salida\",\r\n      \"ganancias\",\r\n    ]);\r\n\r\n    const fechaInicio = ref();\r\n    const fechaFinal = ref();\r\n    const fecha = ref();\r\n    const reporte = ref();\r\n    const infoVenta = ref();\r\n    const reportesField = ref({\r\n      fields: [\r\n        { key: \"createdAt\", label: \"creacion\", sortable: true },\r\n        \"acciones\",\r\n      ],\r\n    });\r\n\r\n    function filterFecha() {\r\n      (\"formatDate\", function(value) {\r\n        if (value) {\r\n          return moment(String(value)).format(\"DD/MM/YYYY hh:mm a\");\r\n        }\r\n      });\r\n    }\r\n    function filterNumber() {\r\n      (\"formatNumber\", function(value) {\r\n        return numeral(value).format(\"0,0.00\"); // displaying other groupings/separators is possible, look at the docs\r\n      });\r\n    }\r\n    function cantidadReporte() {\r\n      return this.reporte.reduce(\r\n        (sum, item) => sum + parseFloat(item.cantidad),\r\n        0\r\n      );\r\n    }\r\n\r\n    function rowClass(item, type) {\r\n      if (!item || type !== \"row\") return;\r\n      if (item.status === \"awesome\") return \"table-success\";\r\n    }\r\n\r\n    function pdfCompleto() {\r\n      const info = this.$refs.info;\r\n      const lista = this.$refs.reporteCompletoBs;\r\n      const lista2 = this.$refs.reporteCompletoDolar;\r\n      var ventana = window.open(\"\", \"PRINT\", \"height=400,width=600\");\r\n      ventana.document.write(\r\n        '<link rel=\"stylesheet\" href=\"/md/bootstrap.min.css\" />'\r\n      );\r\n      ventana.document.write(info.innerHTML);\r\n      ventana.document.write(lista.innerHTML);\r\n      ventana.document.write(lista2.innerHTML);\r\n      ventana.document.close();\r\n      ventana.focus();\r\n      setTimeout(function() {\r\n        ventana.print();\r\n      }, 2000);\r\n    }\r\n    function createPdf() {\r\n      const lista = this.$refs.lista;\r\n      const info = this.$refs.info;\r\n\r\n      var ventana = window.open(\"\", \"PRINT\", \"height=400,width=600\");\r\n\r\n      ventana.document.write(info.innerHTML);\r\n      ventana.document.write(lista.innerHTML);\r\n      ventana.document.write(\r\n        '<link rel=\"stylesheet\" href=\"../md/bootstrap.min.css\" />'\r\n      );\r\n      ventana.document.close();\r\n      ventana.focus();\r\n      setTimeout(function() {\r\n        ventana.print();\r\n      }, 2000);\r\n    }\r\n\r\n    async function getVentas() {\r\n      if (this.fechaInicio == null) return;\r\n      if (this.fechaFinal == null) return;\r\n      const { data } = await axios.get(\r\n        `${this.server}/ventas/get/${this.fechaInicio}/${this.fechaFinal}`\r\n      );\r\n      this.ventasBs = [];\r\n      this.ventasDolar = [];\r\n      this.ventas = data;\r\n      data.map((item) => {\r\n        if (item.is_dolar === true) {\r\n          this.ventasDolar.push(item);\r\n        }\r\n        if (item.is_dolar === false) {\r\n          this.ventasBs.push(item);\r\n        }\r\n      });\r\n      this.getTotal();\r\n    }\r\n    return {\r\n      rowClass,\r\n      pdfCompleto,\r\n      createPdf,\r\n      getVentas,\r\n      filterFecha,\r\n      filterNumber,\r\n      cantidadReporte,\r\n      reportesFields,\r\n      reportesField,\r\n      reporte,\r\n      fieldsInfo,\r\n      fechaInicio,\r\n      fechaFinal,\r\n      fecha,\r\n      infoVenta,\r\n    };\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.border-white {\r\n  border: 0.2px solid white;\r\n  padding: 5px;\r\n}\r\n.h-65 {\r\n  max-height: 65vh;\r\n}\r\n.h-80 {\r\n  max-height: 80vh;\r\n}\r\n.iconC {\r\n  top: -5px;\r\n  width: 23px;\r\n  left: 31px;\r\n  height: 23px;\r\n  position: absolute;\r\n  border-radius: 10rem;\r\n  text-align: center;\r\n\r\n  align-content: center;\r\n}\r\n\r\n.card {\r\n}\r\n.btn {\r\n  border-radius: 10rem;\r\n}\r\n</style>\r\n","import { render } from \"./Reportes.vue?vue&type=template&id=2f2aba44&scoped=true\"\nimport script from \"./Reportes.vue?vue&type=script&lang=js\"\nexport * from \"./Reportes.vue?vue&type=script&lang=js\"\n\nimport \"./Reportes.vue?vue&type=style&index=0&id=2f2aba44&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-2f2aba44\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Reportes.vue?vue&type=style&index=0&id=2f2aba44&scoped=true&lang=css\""],"sourceRoot":""}